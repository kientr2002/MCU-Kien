/*
 * display.c
 *
 *  Created on: Nov 15, 2022
 *      Author: ADMIN
 */


#include "display.h"

void display(){
	  if(timer1_flag == 1){
		  if(convert_flag == 0){
				HAL_GPIO_WritePin ( EN0_GPIO_Port, EN0_Pin , SET );
				HAL_GPIO_WritePin ( EN1_GPIO_Port, EN1_Pin , RESET );
			  display7SEGforMode(status_mode,led_buffer[1], led_buffer[3]);
			  counter_horizontal();
			  convert_flag = 1;
			  setTimer1(500);
		  } else {
				HAL_GPIO_WritePin ( EN0_GPIO_Port, EN0_Pin , RESET );
				HAL_GPIO_WritePin ( EN1_GPIO_Port, EN1_Pin , SET );
			  display7SEGforMode(status_mode,led_buffer[0], led_buffer[2]);
			  counter_vertical();
			  convert_flag = 0;
			  setTimer1(500);
		  }
			if(convert_led == 1){
				convert_led = 0;
			} else {
			  	if(convert_flag == 1){
			  		led_horizontal();
			  		led_vertical();
			  	}
			}
	  }
}
